select CHAPAAVALIADOR, f.NOME, p.CODAVALIACAO, a.NOME, p.CHAPAAVALIADO, func.NOME from participantes as p
left join notas as n 
    on n.CODCOLIGADA = p.CODCOLIGADA 
    and n.CODAVALIACAO = p.CODAVALIACAO
    and n.CODPARTICIPANTE = p.CODPARTICIPANTE
inner join funcionarios as f
    on f.CHAPA = p.CHAPAAVALIADOR
inner join avaliacoes as a
    on a.CODCOLIGADA = p.CODCOLIGADA
    and a.CODAVALIACAO = p.CODAVALIACAO
inner join funcionarios as func 
    on func.CHAPA = p.CHAPAAVALIADO
where NOTAAVALIADOR is null and a.CODAVALIACAO >24 and a.CODAVALIACAO < 37 and f.CHAPA not in (99996,99999 )
order by f.NOME, p.CODAVALIACAO
; 
